Refactor WrappedException to handle Throwable and add EncodableResult class for better error handling